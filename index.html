<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>PGN Chess Viewer</title>
<style>
    body {
        margin: 0;
        display: grid;
        grid-template-columns: 2fr 1fr;
        height: 100vh;
    }
    iframe {
        width: 100%;
        height: 100%;
        border: none;
    }
</style>
</head>
<body>

<!-- Лява колона – дъската -->
<iframe id="boardFrame" src="board-frame.html"></iframe>

<!-- Дясна колона – контролите -->
<iframe id="controlsFrame" src="controls.html"></iframe>

<script>
    console.log("[index] Стартиране на основния скрипт");

    window.addEventListener("message", function(event) {
        console.log("[index] Получено съобщение:", event.data);

        if (event.data.type === "sendPGNToBoard") {
            console.log("[index] Препращам PGN към board-frame");
            document.getElementById("boardFrame").contentWindow.postMessage({
                type: "loadPGN",
                data: event.data.data
            }, "*");
        }
    });
</script>

</body>
</html>
